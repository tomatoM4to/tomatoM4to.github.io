# 디스크 시스템
파일 혹은 데이터는 실제로 디스크 라는 곳에 저장이 된다.

요즘 나오는 SSD를 디스크라고 부르기도 하지만, 여기서는 HDD를 기준으로 설명을 하겠다.

디스크는 실제로 데이터가 저장돼는 곳이며, 크게 Disk pack 와 Disk drive 로 나뉜다.

## Disk pack
데이터가 영구 저장돼는 위치로, 실제 디스크를 뜯어보면 원판이 여러개가 쌓여있는 형태로 되어있다.

Disk pack의 구조는 다음과 같다.

#### 섹터[Sector]
실제로 데이터를 저장/판독 하는 물리적 단위이다, 실제로 1 혹은 0이 이곳에 기록돼게 되는 것이다.

#### 트랙[Track]
중심점으로부터 같은 거리에 있는 Sector 들을 쭉 모으면 원 모양이 돼는데, 이때 이 Sector들의 집합을 Track 이라고 부른다.

#### 실린더[Cylinder]
같은 반지름을 갖는 Track 들의 집합을 의미한다.

#### 플래터[Platter]
지금까지 말한 Disk는 그저 원판이란 의미로서 말했다.

하지만 실제 디스크 내부에 있는 원판은 원판은 양면에 자성 물질을 입힌 원형 금속판이다.

이때 이 양면에 자성물질을 입힌 원형 금속판을 플래터 라고 부른다.

#### 서페이스[Surface]
Platter의 각 면을 의미한다.(윗면, 아랫면)

#### 헤드[Head]

## Disk drive
Disk pack에 저장된 데이터를 읽고 쓰는 장치를 의미한다.

#### 헤드[Head]
디스크 표현에 데이터를 기록/판독하는 장치이다.

헤드는 각 Platter의 Surface에 위치한다.

#### 암[Arm]
Head를 고정/지탱하는 장치이다.

#### 포지셔너[Positioner]
Arm을 지탱하고, Head를 원하는 Track으로 이동시키는 장치이다.

#### 스핀들[Spindle]
Dist pack을 고정하는 회전 축이자, 회전시키는 장치이다.

디스크 구매할때 첫번째로 용량을 먼저 보게 돼고 그다음 RPM이라는것을 보개 돼는데, 이때 RPM은 분당 회전 수를 의미한다.

이 RPM이 클수록 데이터를 빨리 읽을 수 있다는 뜻이 돼기도 한다.


***

# Disk Address
그렇다면 이러한 디스크에 정보를 저장하고 읽기 위해서는 어떻게 해야할까?

일단 디스크에 저장된 데이터를 읽기 위해서는 물리적인 위치를 알아야 한다.

그리고 이러한 물리적인 위치를 알기 위해선 물리적인 주소가 필요하고 이러한 물리적인 주소는 다음과 같이 나타넬 수 있을 것이다.


| Cyloinder Number | Surface Number | Sector Number |
|------------------|----------------|---------------|

단순히, 몇층, 어떤면, 어디에 있는지를 표현한거다. 순서는 의미 없다.

하지만 OS가 모든 디스크의 하드웨어적인 특징들을 이해하고 사용할수는 없다.

그렇기에 OS는 좀더 추상화된 방법으로 디스크를 사용하게 된다.

|B0|B1|B2|...|Bn|Bn+1|
|---|---|---|---|---|---|

OS는 그저 B1 번째에 데이터를 저장, 읽어오기만 하면 된다.

이떄 사용돼는 주소를 Logical Address 또는 relative address 라고 부른다.

하지만 그럼에도 불구하고 실제로 Disk에 접근하려면 물리적인 주소를 알아야 한다. OS는 어떻게 논리적인 주소로부터 물리적인 주소를 알아낼까?

예를들어, 컴퓨터 부품(GPU) 을 사고 컴퓨터에 장착을 한다면, 우린 가장 첫번째로 driver를 설치한다.

바로 이러한 driver이 OS가 바라보는 논리적인 주소를 실제 하드웨어가 가지는 물리적 주소로 변환해주는 역할을 하게 된다.

정리하면, OS는 Disk driver에게 블럭 번호를 전달하고 Disk driver는 이 블럭 번호를 물리적인 주소로 변환하여 Disk에 접근하게 된다.

참고로, Disk driver는 해당 하드웨어를 파는 기업들이 제공하게 된다.

***

# Data Access in Disk System
지금까지 알아봤던 디스크 시스템의 구조와 주소체계를 바탕으로 데이터에 접근하는 방법을 알아보자.

1. Seek time
    * 디스크 head를 필요한 cylinder로 이동하는 시간

2. Rotational delay
    * 필요한 sector가 head 위치로 도착하는 시간

3. Data transmission time
    * 해당 sector를 읽어서 전송 or 기록 하는 시간

그리고 이러한 시간들을 합친것이 Disk Access Time 이다.


