---
title: "Docker 의 등장 배경"
description: "가상화 기술의 기초부터 Virtual Machine과 Container의 차이점을 비교하고, 이를 통해 Docker가 등장하게 된 배경과 핵심 개념을 정리합니다."
date: "2025-05-25"
keywords: "Docker"
---

# 가상화 (Virtualization)

Docker 를 이해하기에 앞서, 먼저 **가상화 기술**에 대해 간단히 짚고 넘어가야 한다.

가상화는 하나의 물리적 컴퓨터 자원(CPU, 메모리, SSD, HDD) 등을 여러개의 논리적 자원으로 분할하여 사용하는 기술이다. 이를 통해 하나의 물리적 서버에서 여러 개의 독립된 시스템을 운영할 수 있게 된다.

결국 핵심은 한 컴퓨터의 여러개의 OS 환경을 동시에 실행하는 것이다. 이러한 기술을 사용하는 이유에는 여러가지 있겠지만, Docker 의 관점에서 가장 중요한 이유는 **애플리케이션을 격리된 환경에서 실행하기 위해서** 라고 할 수 있다.

이렇게 하면, 서로 다른 애플리케이션 간의 충돌을 방지하고, 보안성을 높이며, 관리와 배포를 용이하게 할 수 있다.

이러한 가상화 기술에는 크게 두 가지 주요 방식이 있다.
* **Virtual Machine (가상 머신)**: vmware, VirtualBox 등
* **Container (컨테이너)**: Docker, Podman 등

> 2024년 부터 vmware 를 관리하는 브로드컴이 개인 사용자에게 무료로 제공하기로 했으니 참고하자

## VM 을 위한 Hypervisor

VM 은 크게 두가지로 나눌 수 있는데. 아래 그림을 보면 쉽게 이해할 수 있다.

![Hypervisor Types](/img/Docker/hypervisor.webp)

1. **Type 1 Hypervisor (베어메탈 하이퍼바이저)**: 물리적 하드웨어 위에 직접 설치되어, 여러 개의 Guest OS 를 실행하는 방식. 예를 들어, VMware ESXi, Microsoft Hyper-V 등이 있다.
2. **Type 2 Hypervisor (호스트형 하이퍼바이저)**: 기존의 Host OS 위에 설치되어, 그 위에서 여러 개의 Guest OS 를 실행하는 방식. 예를 들어, VMware Workstation, Oracle VirtualBox 등이 있다.

> Hypervisor 는 CPU, 메모리, 디스크 등 물리적 자원 과 VM 사이에 있는 **OS** 로서, 각 VM 에 자원을 할당하고 관리하는 역할을 한다.

## 비효율을 극복하기 위한 Container

VM 이 확장성, 격리성 등 많은 장점을 가지곤 있지만, 애플리케이션 하나 독립 실행을 위해 전체 OS 를 통째로 올려논다는건 너무 비효율적이다.

그래서 전체 OS 를 가상화 하지 않고, 애플리케이션 실행에 필요한 최소한의 환경만을 추상화해서 독립된 실행 공간을 제공하는 아이디어가 등장했다. 이것이 바로 **컨테이너 (Container)** 기술이다.

아래 그림은 VM 과 Container 의 차이를 잘 보여준다.

TODO: 사진

> 결과적으로 VM 에 비해 **압도적으로** 가볍고 빠른 실행 환경을 제공할 수 있게 된다.

## Container 의 동작 원리

Docker 를 쓰다보면, 컨테이너가 마치 VM 처럼 별도의 운영체제를 실행하는 것이라고 착각이 들 때가 있다. 물론 그렇게 느껴지도록 만들어진것이 사실이지만, 기술적으론 완전히 다르다.

컨테이너는 VM 처럼 별도의 OS 를 실행하지 않는다. **컨테이너의 본질은 리눅스 커널의 기능들을 조합해 만든 격리된 프로세스**라고 할 수 있다.

이렇듯, 컨테이너는 OS 를 가상화 하는것이 아니라 커널(Kernel)을 공유하기 때문에 오버헤드가 거의 없어 빠르고 가볍게 동작할 수 있다.

컨테이너를 만들기 위해 사용되는 주요 리눅스 커널 기능들은 다음과 같다.

* 네임스페이스 (Namespaces): PID, 네트워크, 파일 시스템 등 커널 자원을 프로세스별로 격리하는 기능, 덕분에 각 컨테이너는 독립된 시스템 환경을 가진 것처럼 동작
* cgroups (Control Groups): 특정 프로세스 그룹이 사용할 수 있는 자원(CPU, 메모리 등)을 제한하고 관리하는 기능.

> TODO

# Docker

컨테이너는 본질적으로 리눅스 커널 기능을 활용한 프로세스 격리 기술이지만, 매번 일일이 명령어로 설정해서 사용하기엔 너무 번거롭고 실수하기 쉽다.

그래서 컨테이너를 쉽게 만들고 관리할 수 있도록 도와주는 도구들이 등장했는데, 그 중 가장 널리 사용되는 것이 바로 **Docker** 다.

`docker run`, `docker build` 등 명령어 한줄이면 격리된 환경(Namespaces, cgroups 등)을 순식간에 세팅하고 프로세스를 실행할 수 있다.

> Docker 같은 경우 리눅스 환경에서 시작되었지만, 현재는 Windows 와 MacOS 등 다양한 운영체제에서 사용할 수 있도록 지원하고 있다. Windows 와 MacOS 에서는 내부적으로 경량화된 리눅스 VM 을 실행하여 그 위에서 Docker 를 구동하는 방식을 사용한다.