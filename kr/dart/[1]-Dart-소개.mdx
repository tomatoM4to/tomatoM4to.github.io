# Why Dart?

대부분 사람들은 Flutter 에 관심이 있지 Dart 에는 별로 관심이 없을거라 생각해요, 하지만 Flutter 를 제대로 사용하기 위해선 Dart 는 선택이 아닌 필수라 생각합니다.

해당 주제에선 Dart 에 대해 깊게 다루지 않습니다. 또한 프로그래밍 언어를 처음 배우는 사람을 대상으로 하는 강의도 아닙니다.

TODO: Flutter 를 다루기 전 Dart 의 기본적인 개념과 특징, 그리고 문법을 다루고 후반엔 비동기 처리를 위한 Future, 함수형 프로그래밍을 ...

먼저 Dart 에 대해 알아보기 전 Dart 를 만든 팀에서 말하는 Dart 의 장점에 대해 알아보겠습니다.


> 1. **Approachable**: Develop with a consistent, concise, and strongly typed programming language that offers modern features like null safety and pattern matching.
> 2. **Productive development**: Make changes iteratively: use hot reload to see the result instantly in your running app.
> 3. **Portable and fast on all platforms**: Compile to ARM, x64, and RISC-V machine code for mobile, desktop, and backend. Or, compile to JavaScript & WebAssembly for the web.
> <br />
> [https://dart.dev/](https://dart.dev/)

요약하면 다음과 같습니다.

1. Dart는 null safety 같은 여러 현대적인 기능을 제공하는 프로그래밍 언어입니다!
2. Dart는 우수한 생산성을 제공합니다!
3. Dart는 모든 플랫폼에서 빠르게 동작하며 이식성또한 뛰어납니다!

TODO: 그리고 제가 생각하는 Dart 는 뭐랄까요.. 최신언어가 다 그렇지만, Java, Python, JavaScript 같은 비교적 오래되었고 사람들이 많이 사용하는 인기있는 언어들의 장점들을 하나하나씩 가져온 언어라 생각합니다. 그래서 비동기 처리, 함수형, 객체지향, null safery 등등 최신 기능들 전부 지원하고 그 문법이 꽤나 간결하다 생각하면 됩니다.

***

# What is Dart?

이제 Dart 언어의 기술적인 특징에 대해 알아보겠습니다.


> [https://dart.dev/overview](https://dart.dev/overview)

해당 페이지에 자세한 설명이 나와있는데요, 한번 천천히 살펴보겠습니다.

1. **Dart** 는 기본적으로 <R>컴파일 언어</R>이며 **모바일** 및 **데스크톱** 기기를 대상으로 하는 앱을 작성할 수 있습니다! 그리고 이 경우 **Dart** 는 <R>두가지 컴파일러를 제공</R>합니다!
    * **JIT(Just In Time) 컴파일러**를 사용하여 개발 중에 코드를 빠르게 실행할 수 있습니다.
    * **AOT(Ahead Of Time) 컴파일러**를 사용하여 최적화된 코드를 생성할 수 있습니다.
2. **Dart** 는 JavaScript 또는 WebAssembly로 컴파일하여 <R>웹을 대상으로 하는 앱을 작성할 수 있습니다!</R>
3. **Flutter 프레임워크**는 <R>Dart 로 구동되는 멀티플랫폼 UI 툴킷</R>으로서, IOS, Android, macOS, Windows, Linux 및 웹에서 실행되는 UI 를 구축하기 위한 툴링 및 UI 라이브로리를 제공합니다.

중요한점은 <U>Dart 는 컴파일러 언어</U>이며, **Flutter** 는 Dart 로 작성된 **UI 툴킷** 이란걸 알수 있습니다. 그리고 Dart 는 **여러 플랫폼에서 실행 가능하도록 컴파일** 할 수 있다는것도 알수 있네요.

TODO: TMI 이긴 한데, Dart 의 밴치마크에 대해 궁금하더라구요. 사실 언어의 밴치마크는 별로 의미있는 수치는 아니긴 하죠, 그 느리다는 파이썬이라도 numpy, numba 같은 라이버러리로 최적화 해버리면 C++ 과 비슷한 속도를 내는 경우도 있으니까요, 그래도 한번 살펴보면 좋을거 같아 찾아봤지만 공식적인 자료는 찾을수 없었습니다. 그래도 여러 커뮤니티에서 정보를 종합한 결과 Java 와 비슷하면서 약간 느리다는 의견이 많은거 같습니다.

## Dart Compiler

![Dart-platforms](/kr/dart/img/Dart-platforms.svg)

Dart 는 두개의 컴파일러를 제공한다 했습니다. 해당 사진을 보시면 Dart Native 와 Dart Web이 바로 그 두개의 컴파일러입니다.

Dart Web 은 Dart 코드를 JavaScript 또는 WebAssembly 로 컴파일 한 다음 브라우저(Chrome 내 V8) 에서 실행할 수 있도록 해줍니다. 매우 심플하죠?

Dart Native 는 또다른 컴파일런데요, Dart 코드를 여러 CPU 아키텍처에 맞는 머신 코드로 컴파일하여 실행할 수 있도록 해줍니다. 가령 같은 코드지만 ARM32, ARM64(모바일), x64(데스크탑) 등등 여러 CPU 아키텍처에 맞는 머신 코드로 컴파일 할 수 있습니다. Dart 하나만 써도 IOS, Android, Winbdows 등등 여러 플랫폼에서 실행 가능한 앱을 만들수 있다는거거죠.

이러한 Dart Native 는 또 두가지 방식으로 나누어 집니다. 개발자 편의를 위한 JIT 컴파일러와, 유저를 위한 AOT 컴파일러가 있습니다.

### AOT Compiler
AOT 컴파일러는 Dart Native 의 핵심입니다. AOT 컴파일러는 Dart 코드를 ARM, x64 머신 코드로 컴파일하여 실행할 수 있도록 해줍니다. <U>AOT 컴파일러는 보통 앱 스토어에 게시하든 프로덕션 백엔드에 배포하든 앱을 프로덕션에 배포할 준비가 될때 사용하는 컴파일러라고 보면 되겠습니다.</U> 일반적은 C++, Java 처럼 컴파일을 먼저 하고, 그 결과를 실행하거나 배포하는 방식이니 익숙한 형태일거에요.

보통 인간이 작성한 비효율적인 똥같은 코드를 최적화 하고 해당 코드를 기계어로 바꿔야 하는 등 굉장히 많은 작업을 하기에 시간이 오래 걸리기도 합니다.

### JIT Compiler
하지만 위의 방식으로 개발을 하기엔 좀 비효율적인거 같아요. 경영진은 개발자들이 컴파일 커맨드 입력한다음 커피타임 즐기는걸 그렇게 좋게 보지 않으니까요.

그렇기에 개발자들을 위해? JIT 컴파일러를 제공합니다. <U>이를 통해 개발자는 코드를 수정할 때마다 전체 프로젝트를 다시 컴파일 하지 않으면서 결과를 빠르게 확인</U> 할 수 있습니다.

이러한 기능은 Dart VM 에서 제공하는 기능으로, Dart VM은 이 밖에도 여러 디버깅 기능을 지원합니다.

정리하면 <U>디버깅, JIT Compiler 등의 기능을 갖춘 Dart VM 을 통해 앱을 개발한다음 AOT 컴파일러를 통해 프로덕션에 배포</U>하는 방식으로 개발을 진행하면 됩니다. 이러한 특징은 정말 UI 개발에 특화되어 있다 말할 정도로 편리한 기능으로 많은 프로그래밍 언어가 이러한 기능들을 지원해주지는 않습니다. Dart 언어의 장점이라 할 수 있겠네요.

***

# How to Learn?

프로그래밍 언어를 공부하기 위해선 먼저 귀찮은 설치 작업부터 해야겠죠? 하지만 Dart 팀은 이러한 개발자들의 귀차니즘을 이해하고 있어 아주 좋은 툴을 제공하고 있습니다. 해당 툴은 밑의 링크를 통해 사용하실 수 있습니다.

> [https://dartpad.dev/](https://dartpad.dev/)


해당 링크를 통해 Dart 를 설치하지 않고도 Dart 를 사용해 볼 수 있습니다.

```dart:main.dart
void main() {
  print("Hello, World!");
}
```

역시 어떤 프로그래밍 언어든 Hello World 가 국룰이죠, 한번 실행해 보세요!