# 1:1
아무대나 외래키 집어넣어도 괜찮, 그냥 좀더 큰 개념쪽에

# 1:N
N쪽에 외래키, 1쪽에는 외래키 불가

# N:M
* 교수(사번, 이름)
* 과목(과목코드, 과목명)
* 다이어그램에서 생성한 관계(마름모) 테이플을 생성하고 각 테이블(교수, 과목)의 키를 집어넣으면 됨
  * 수업(사번, 과목코드)

이러한 연겨해준ㄴ 수업 테이블을 교차 테이블 이라 함


# N진 관계
이것도 N:M과 똑같
* 학생(학번, 학과)
* 강좌(강좌코드, 과목명)
* 강의실(호실, 위치)
* 수강(학번, 강좌코드, 호실)

참고로 이렇게 생성돼는 교차 릴레이션 R의 키는 각 개체 타입의 기본 키를 모은 복합키를 사용한다.

3진은 별로 없음

# 1진 관계
학생 <> 멘토링 관계

학생이 학생을 멘토링 하는,  학생이 사각형, 멘토링이 마름모,  이게 1:N이면 학생의 기본키를 자신의 외래키에 집어넣도 됨, 가능

***

# 정규화
SQL은 끝났고 이제부턴 이론적인 내용, 설계하는 법 임

## 이상현상
잘못된, DB 설계로 인해 발생하는 비정상적인 동작이라 이해하면 된다.

* 삭제 이상: 연쇄 삭제
* 수정 이상: 불일치 문제
* 삽입 이상; NULL 값 문제

TODO: 책의 예시가 좋은편이니 수강 자료를 정리할 필요가 있음

***

# 함수적 종속성
한 테이블R에 속하는 속성의 집합X, Y가 있을때 어쩌구.. , X와 Y는 하나의 값일수도, 아닐수도 있다.

예를들어 한 학번엔 한 이름이 대응돼는데, 이때 학번은 이름에 대한 종속?

각 값에 대한것이 아니라 의미적으로 해석해야 한다.

**다이어그램**: 책마다 다름

## 함수 종속성 규칙
DB에서 이론적인 내용을 하는것은 싫어하는데.. 기본적이것만 보자.

1. 부분집합 규칙
2. 증가 규칙
3. 이행 규칙: 많이 씀
4. 결합 규칙
5. 분해 규칙
6 유사 이행 규칙: 복잡함, 안해도 됨, 생략

문제는 fd가 뭐고 이런 규칙이 잇다는것을 알앗는데, 이제부터 이 fd를 가지고 함수 종속성을 찢어야 함? 결과적으로 이상현상을 제거 가능하고 이것을 정규화 라고 한다.

함수 종속성과 기본키는 매우 밀접한 관계가 잇다.


어떤 테이블에서 이름을 기본키로 지정했을때, 이대 이 기본키로 인해, 학과, 주소, 취득학점 같은 모든 속성과 종속성 관계가 생성되게 된다. 이를 모든 속성의 결정자 라고 한다.

정리하면, 한 테이블이 잘 만들어졌단 의미는 모든 속성과 잘 종속관계가 될때 잘 만들어 졋다 할수 있다.

그렇다면 이상현상은 **기본키가 아니면서결정자인 속성이 있을 때 발생한다.** 라 할 수 있다. 즉 기본키가 아닌데 X역할을 할때

기본키가 X가 되게 하는것이 펑션 에트리뷰선?의 핵심이다.

## 예
찢어 낼때는 식별자(포린키)를 남기고 찢어야 한다. 글야 원래 진짜 관계를 회복 할 수 있기 때문에, 결과적으로 4개의 테이블이 생성되고JOIN을 해서 원래 관계를 회복가능 하다.

그리고 이러한 쪼개는 과정을 단계화 시킨게 있는데, 이것을 정규화 라고 한다.

4단계면 충분

